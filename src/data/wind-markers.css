/* ============================================================================
 * Wind Speed/Direction Static Display for Leaflet Markers
 * ============================================================================
 * Usage: Import this CSS file in your app's global styles or index.html
 *
 * @import "~raain-ui/data/wind-markers-static.css";
 *
 * Or in HTML:
 * <link rel="stylesheet" href="node_modules/raain-ui/dist/data/wind-markers-static.css">
 *
 * Then apply classes to markers via MapElement.changeMarkerStyle():
 * mapElement.changeMarkerStyle(marker, 'marker-wind-static marker-wind-static-200', {strength: 10, trustful: 0.5});
 */

/* Base wind marker class - static rotation only */
.marker-wind-static {
    /* Trustful parameter: 0 = red (untrusted), 1 = original (trusted) */
    --trustful: 1;

    /* Calculate red overlay intensity: (1 - trustful) gives us 0 at trustful=1, 1 at trustful=0 */
    --red-intensity: calc(1 - var(--trustful, 1));

    /* Rotation will be set by direction-specific classes */
    --rotation: 0deg;

    /* Apply red colorization based on trustful value */
    /* Strong red tint: grayscale removes color, then apply red via sepia+hue */
    filter: grayscale(var(--red-intensity)) sepia(var(--red-intensity)) saturate(calc(1 + var(--red-intensity) * 5)) hue-rotate(calc(var(--red-intensity) * -50deg));

    /* Smooth rotation transition when angle changes */
    /* Rotation is applied via JavaScript by modifying the transform property
    transition: transform 0.3s ease-out;
    */
}

/* Speed text label - as a real DOM element (not pseudo-element) */
.wind-speed-label {
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 11px;
    font-weight: bold;
    color: rgba(255, 255, 255, 0.95);
    background: rgba(0, 0, 0, 0.6);
    padding: 2px 5px;
    border-radius: 3px;
    text-shadow: 0 0 2px rgba(0, 0, 0, 0.8);
    pointer-events: none;
    white-space: nowrap;
    z-index: 1000;
}

/* Direction arrow indicator - as a real DOM element (not pseudo-element) */
.wind-arrow-indicator {
    position: absolute;
    top: -45px;
    left: 50%;
    font-size: 18px;
    font-weight: bold;
    color: rgba(100, 150, 255, 0.95);
    text-shadow: 0 0 4px rgba(0, 0, 0, 0.7);
    pointer-events: none;
    transform-origin: center;
    z-index: 1000;
}

/* Rotate arrow based on parent's rotation variable
.marker-wind-static-0 ~ .wind-arrow-indicator,
.marker-wind-static-360 ~ .wind-arrow-indicator {
    transform: translateX(-50%) rotate(180deg);
}

.marker-wind-static-10 ~ .wind-arrow-indicator {
    transform: translateX(-50%) rotate(190deg);
}

.marker-wind-static-20 ~ .wind-arrow-indicator {
    transform: translateX(-50%) rotate(200deg);
}

.marker-wind-static-30 ~ .wind-arrow-indicator {
    transform: translateX(-50%) rotate(210deg);
}

.marker-wind-static-45 ~ .wind-arrow-indicator {
    transform: translateX(-50%) rotate(225deg);
}

.marker-wind-static-90 ~ .wind-arrow-indicator {
    transform: translateX(-50%) rotate(270deg);
}

.marker-wind-static-135 ~ .wind-arrow-indicator {
    transform: translateX(-50%) rotate(315deg);
}

.marker-wind-static-180 ~ .wind-arrow-indicator {
    transform: translateX(-50%) rotate(0deg);
}

.marker-wind-static-200 ~ .wind-arrow-indicator {
    transform: translateX(-50%) rotate(20deg);
}

.marker-wind-static-225 ~ .wind-arrow-indicator {
    transform: translateX(-50%) rotate(45deg);
}

.marker-wind-static-270 ~ .wind-arrow-indicator {
    transform: translateX(-50%) rotate(90deg);
}

.marker-wind-static-315 ~ .wind-arrow-indicator {
    transform: translateX(-50%) rotate(135deg);
}

 */

/* Wind direction classes for every available degree */
/* Azimuth 0 = North (upward), 90 = East (right), 180 = South (down), 270 = West (left)*/

.marker-wind-static-0 .marker-wind-static-360 {
    --rotation: 0deg;
}

.marker-wind-static-10 {
    --rotation: 10deg;
}

.marker-wind-static-20 {
    --rotation: 20deg;
}

.marker-wind-static-30 {
    --rotation: 30deg;
}

.marker-wind-static-45 {
    --rotation: 45deg;
}

.marker-wind-static-90 {
    --rotation: 90deg;
}

.marker-wind-static-135 {
    --rotation: 135deg;
}

.marker-wind-static-180 {
    --rotation: 180deg;
}

.marker-wind-static-200 {
    --rotation: 200deg;
}

.marker-wind-static-225 {
    --rotation: 225deg;
}

.marker-wind-static-270 {
    --rotation: 270deg;
}

.marker-wind-static-315 {
    --rotation: 315deg;
}
